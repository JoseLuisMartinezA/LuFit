<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LuFit | Rutina Gym 4 DÃ­as</title>
  <meta name="description"
    content="LuFit - Tu rutina de gimnasio personalizada de 4 dÃ­as. Perder grasa y ganar mÃºsculo con estilo.">
  <meta name="theme-color" content="#d81b60">

  <!-- ConfiguraciÃ³n App iPhone -->
  <link rel="apple-touch-icon" href="app-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="LuFit">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="manifest" href="./manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
</head>

<body>
  <div id="login-screen" class="login-screen" style="display: none;">
    <div class="login-card">
      <img src="favicon.png" alt="LuFit" class="login-logo">

      <!-- View: Login -->
      <div id="login-view">
        <h2>Bienvenida a LuFit</h2>
        <p>Inicia sesiÃ³n para ver tus rutinas</p>
        <div class="login-form">
          <input type="text" id="login-username" placeholder="Nombre de Usuario">
          <input type="password" id="login-password" placeholder="ContraseÃ±a">
          <p id="login-error" class="login-error"></p>
          <button onclick="window.login()" class="primary-btn">Entrar</button>
          <button onclick="window.showRegister()" class="text-link-btn">Crear cuenta nueva</button>
        </div>
      </div>

      <!-- View: Register -->
      <div id="register-view" style="display: none;">
        <h2>Crear Cuenta</h2>
        <p>RegÃ­strate para guardar tu progreso</p>
        <div class="login-form">
          <input type="text" id="reg-username" placeholder="Nombre de Usuario">
          <input type="password" id="reg-password" placeholder="ContraseÃ±a">
          <p id="reg-error" class="login-error"></p>
          <button onclick="window.register()" class="primary-btn">Registrarse</button>
          <button onclick="window.showLoginView()" class="text-link-btn">Ya tengo cuenta</button>
        </div>
      </div>
    </div>
  </div>

  <div id="app-content" style="display: none; flex-direction: column; width: 100%;">
    <header class="header">
      <div class="header-content">
        <div class="user-account-container">
          <button class="account-icon-btn" onclick="window.toggleAccountMenu(event)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </button>
          <div id="account-dropdown" class="account-dropdown" style="display: none;">
            <div class="account-dropdown-header">
              <div class="account-avatar">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
              </div>
              <div class="account-info">
                <span class="account-username" id="user-display-name"></span>
                <span class="account-label">Usuario de LuFit</span>
              </div>
            </div>
            <div class="account-dropdown-divider"></div>
            <button onclick="window.logout()" class="account-dropdown-item logout-item">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              Cerrar sesiÃ³n
            </button>
          </div>
        </div>
        <div class="logo-area">
          <img src="favicon.png" alt="LuFit Icon" class="main-logo">
          <img src="LuFit nombre solo.png" alt="LuFit" class="brand-name">
        </div>
        <p class="subtitle">Tu progreso, con estilo</p>
        <button id="pwa-install-btn" class="pwa-install-btn" style="display: none;">
          ğŸ“² Descargar App LuFit
        </button>
      </div>
    </header>

    <main class="container">
      <!-- Dashboard Summary -->
      <section class="summary-cards">
        <div class="summary-card">
          <span class="icon">ğŸ¯</span>
          <div class="info">
            <label>Objetivo</label>
            <strong>Perder grasa + MÃºsculo</strong>
          </div>
        </div>
        <div class="summary-card">
          <span class="icon">â±ï¸</span>
          <div class="info">
            <label>DuraciÃ³n</label>
            <strong>~60 min / sesiÃ³n</strong>
          </div>
        </div>
        <div class="summary-card">
          <span class="icon">ğŸ’¤</span>
          <div class="info">
            <label>Descanso</label>
            <strong>60â€“90 seg</strong>
          </div>
        </div>
      </section>

      <!-- Week & Day Selection -->
      <section class="selection-area">
        <div class="week-manager">
          <select id="week-select" class="week-select">
            <!-- Dynamically populated -->
          </select>
          <div class="week-actions">
            <button id="add-week-btn" class="secondary-btn">ï¼‹ AÃ±adir</button>
            <button id="delete-week-btn" class="danger-btn">ğŸ—‘ Eliminar</button>
          </div>
        </div>

        <nav class="day-selector">
          <!-- Dynamically populated -->
        </nav>
      </section>

      <!-- Routine Content -->
      <section id="routine-content" class="routine-viewer">
        <!-- Dynamically populated -->
      </section>

      <!-- Modal para aÃ±adir ejercicio -->
      <div id="add-exercise-modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3 id="modal-title">AÃ±adir Ejercicio</h3>
            <button class="close-modal"
              onclick="document.getElementById('add-exercise-modal').style.display='none'">Ã—</button>
          </div>
          <div class="modal-body">
            <div class="input-group">
              <label for="new-ex-name">Nombre</label>
              <input type="text" id="new-ex-name" placeholder="Ej: Sentadilla">
            </div>
            <div class="input-group">
              <label for="new-ex-sets">Series y Repes</label>
              <input type="text" id="new-ex-sets" placeholder="Ej: 3 Ã— 12">
            </div>
            <button id="save-ex-btn" class="primary-btn">Guardar Ejercicio</button>
          </div>
        </div>
      </div>

      <!-- Tips Section -->
      <section class="tips-section">
        <h2>ğŸ“Œ Tips rÃ¡pidos</h2>
        <ul class="tips-list">
          <li>
            <span class="tip-icon">âš–ï¸</span>
            <p>Usa <strong>peso medio</strong> (las Ãºltimas reps deben costar)</p>
          </li>
          <li>
            <span class="tip-icon">âœ¨</span>
            <p>Prioriza <strong>buena tÃ©cnica</strong> por encima del peso</p>
          </li>
          <li>
            <span class="tip-icon">ğŸ“ˆ</span>
            <p>Intenta <strong>mejorar cada semana</strong> (peso o reps)</p>
          </li>
          <li>
            <span class="tip-icon">ğŸš¶â€â™€ï¸</span>
            <p>Cardio opcional: 5â€“10 min al final</p>
          </li>
        </ul>
      </section>
    </main>

    <footer class="footer">
      <div id="sync-status">âœ¨ LuFit Cloud Active</div>
      <p style="margin-top: 10px;">Guarda esta rutina como referencia diaria</p>
    </footer>
  </div>
  <script type="module" src="src/main.js"></script>
</body>

</html>